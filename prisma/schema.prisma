// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
    // binaryTargets = ["native"]
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id        String   @id @default(uuid())
    name      String
    email     String   @unique
    password  String
    create_at DateTime @default(now())
    update_at DateTime @updatedAt

    @@map("users")
}

model Trades {
    id                  String   @id
    RegisterOperationId String
    orderId             String   @unique
    symbol              String
    side                String
    moment              String
    quantity            Decimal
    priceUSD            Decimal
    timestamp           Decimal
    create_at           DateTime @default(now())

    TradesRegister TradesRegister @relation(fields: [RegisterOperationId], references: [OperationId])

    @@map("trades_operations")
}

model TradesRegister {
    OperationId String @id @default(uuid())

    TradesCount Trades[]

    @@map("trades_counters")
}
